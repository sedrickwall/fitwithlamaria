{
  "version": 2,
  "builds": [
    {
      "src": "api/**/*.ts",
      "use": "@vercel/node"
    },
    {
      "src": "package.json",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "dist/public"
      }
    }
  ],
  "rewrites": [
    { "source": "/api/puzzle/(.*)", "destination": "/api/puzzle" },
    { "source": "/api/wordsearch/(.*)", "destination": "/api/wordsearch" },
    { "source": "/api/crossword/(.*)", "destination": "/api/crossword" },
    { "source": "/api/puzzletype", "destination": "/api/puzzletype" },
    { "source": "/api/stripe/(.*)", "destination": "/api/stripe" },
    { "source": "/(.*)", "destination": "/index.html" }
  ],
  "env": {
    "STRIPE_SECRET_KEY": "@stripe_secret_key",
    "STRIPE_WEBHOOK_SECRET": "@stripe_webhook_secret"
  }
}
